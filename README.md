# Dation Benz Global Management System

이 프로젝트는 Vite로 빌드된 React 애플리케이션이며, Electron 데스크톱 애플리케이션으로 패키징됩니다. **글로벌 자동차 회사(벤츠)의 독일 본사와 한국 지역 딜러들 간의 업무 관리 및 커뮤니케이션을 위한 AI 기반 관리 시스템**입니다.
<br>

## 시작하기

프로젝트를 로컬에서 설정하고 실행하려면 다음 단계를 따르십시오.<br>

### 1. 의존성 설치

애플리케이션을 실행하기 전에 필요한 모든 의존성을 설치해야 합니다.<br>
터미널에서 프로젝트 루트 디렉토리로 이동하여 다음을 실행하십시오.<br>
```bash
npm install
```

### 2. Vite 빌드

웹 애플리케이션으로 테스트 할 수 있는 빌드 입니다.<br>
```bash
npm run build
```
Vite React 실행<br>
```bash
npm run dev
```

### 3. 일렉트론 개발환경 실행

실행 패키지로 빌드하지 않고 바로 개발 버전의 실행 입니다.<br>
```bash
npm run electron:dev
```

### 4. 일렉트론 프로덕션 빌드

타겟 OS 에 맞게 실행 패키지로 빌드 합니다.<br>
빌드 후 release 디렉토리 내 타겟 OS 별 실행 파일이 떨어지게 됩니다.<br>
```bash
npm run electron:build
```

## 프로젝트 분석 결과

현재 **Dation Benz Global Management System** 프로젝트는 **글로벌 자동차 회사의 본사와 지역 딜러 간의 업무 관리 및 커뮤니케이션을 위한 AI 에이전트 데스크톱 애플리케이션**입니다. 다음과 같은 특징을 가지고 있습니다:

### 🏗️ **기술 스택**
- **Frontend**: React 18.2.0 + Vite 5.3.0
- **Desktop**: Electron 31.0.2
- **AI**: Google Generative AI (@google/generative-ai)
- **Markdown**: react-markdown + rehype-raw + remark-gfm
- **Build**: electron-builder

### 🚗 **주요 기능**

#### 1. **AI 챗봇 시스템**
- Google Gemini AI를 활용한 대화형 인터페이스
- 자동차 업계 관련 질의응답 처리
- 본사-딜러 간 커뮤니케이션 지원
- 대화 세션 저장/불러오기 기능

#### 2. **벤츠 딜러 데이터 관리**
글로벌 자동차 업계의 다양한 데이터를 JSON 형태로 관리:
- **딜러 정보** (`dealer_info.json`) - 한국 주요 딜러사 연락처 및 조직 정보
- **벤츠 CRM** (`benz_CRM.json`) - 차량 판매, 고객 대기, 생산 및 배정 현황
- **차량 모델 정보** - E-Class, C-Class, GLC, EQS, S-Class 등
- **판매 데이터** - 딜러별 차량 판매 현황 및 VIN 관리
- **고객 대기 명단** - 특정 모델 구매 대기 고객 관리
- **생산 및 배정 현황** - 독일 본사 생산 현황 및 한국 배정 계획

#### 3. **UI 구성**
- **LeftSidebar**: 메뉴 네비게이션 (딜러 관리, 차량 관리, 판매 현황 등)
- **TopHeader**: 상단 헤더 (현재 딜러, 날짜, 시스템 상태)
- **MainContent**: 메인 채팅 인터페이스 (본사-딜러 커뮤니케이션)
- **RightSidebar**: 추가 정보 표시 (차량 정보, 딜러 현황, 판매 통계)
- **InteractionPage**: 상호작용 페이지 (딜러별 상세 정보)
- **MakePromptsPage**: 프롬프트 생성 페이지 (업무별 AI 프롬프트 관리)

#### 4. **핵심 기능들**
- **RAG (Retrieval-Augmented Generation)**: 텍스트 유사도 기반 문서 검색
- **API 호출 로그**: 실시간 API 호출 상태 모니터링
- **멀티 플랫폼 지원**: macOS, Windows 빌드 지원
- **실시간 데이터 동기화**: 본사와 딜러 간 실시간 데이터 업데이트

### 🏢 **개발 환경**
- **개발 모드**: `npm run dev` (Vite React)
- **Electron 개발**: `npm run electron:dev`
- **프로덕션 빌드**: `npm run electron:build`

### 📊 **데이터 구조**
프로젝트는 글로벌 자동차 업계의 다양한 업무 영역을 커버하는 구조화된 데이터를 포함:
- **딜러 관리**: 한성자동차, 효성더클래스, KCC오토, 더스타모터스, 신세계모터스
- **차량 모델 관리**: 세단, SUV, 전기차 등 다양한 세그먼트
- **판매 현황 관리**: 딜러별 판매 실적 및 VIN 추적
- **고객 관계 관리**: 구매 대기 고객 및 고객 정보 관리
- **생산 및 배정**: 독일 본사 생산 현황 및 한국 배정 계획

### 🎨 **UI/UX 특징**
- 모던한 인터페이스 디자인
- 사이드바 기반 레이아웃
- 실시간 로그 표시
- 반응형 디자인
- 한국어/영어 다국어 지원
- 자동차 업계 특화 아이콘 및 색상

### 🌍 **글로벌 자동차 업계 특화 기능**
- **본사-딜러 커뮤니케이션**: 독일 본사와 한국 딜러 간 실시간 소통
- **차량 배정 관리**: 생산된 차량의 딜러별 배정 현황 추적
- **고객 대기 관리**: 인기 모델의 구매 대기 고객 관리
- **판매 실적 분석**: 딜러별, 모델별 판매 성과 분석
- **VIN 추적 시스템**: 차량 식별 번호를 통한 차량 이력 관리

### 🔄 **최근 업데이트 (2024년)**

#### **제거된 기능**
- **제조업 워크플로우**: 생산 라인 관리, 장비 제어, BOM/SOP 관리 기능 제거
- **시스템 배포 버튼**: TopHeader에서 배포 관련 버튼 및 기능 제거
- **제조 관련 프롬프트**: MakePromptsPage에서 제조 지식 에이전트 폴더 및 관련 프롬프트 제거

#### **현재 지원 업무**
Interaction 페이지에서 호출 가능한 업무는 **자동차 업계 워크플로우**로 집중화:

1. **딜러 관리 시스템**
   - 딜러 정보 조회 (한성자동차, 효성더클래스, KCC오토 등)
   - 딜러 연락처 관리
   - 딜러 성과 분석

2. **차량 관리 시스템**
   - 차량 모델 정보 (E-Class, C-Class, GLC, EQS, S-Class)
   - 차량 재고 관리
   - VIN 추적

3. **판매 현황 관리**
   - 판매 실적 조회
   - 고객 대기 관리
   - 생산 배정 현황

4. **커뮤니케이션 시스템**
   - 본사-딜러 커뮤니케이션
   - 수신자 검색
   - 정보 전송

### 🎯 **구현된 기능 호출 시나리오**

#### **1. 월별 판매 분석 기능**
**질문 예시**: "7월 한국 내 총 판매 대수와 판매 금액은 얼마였습니까?"

**시스템 동작**:
1. 사용자가 Interaction 페이지에서 질문 입력
2. Gemini AI가 질문을 분석하여 `AUTOMOTIVE_월별_판매_분석_4` intent 매칭
3. `getSalesAnalysis(7, 2025)` API 호출
4. 7월 2025년 판매 데이터 필터링 및 집계
5. 결과를 분석 결과 컴포넌트로 표시:
   - 📊 7월 2025년 판매 분석 결과
   - 총 판매 대수: XX대
   - 총 판매 금액: XXX,XXX,XXX원
   - 상세 판매 내역 테이블

**지원 키워드**: "7월 판매", "총 판매 대수", "판매 금액", "한국 내 판매"

---

#### **2. 딜러별 세그먼트 판매 분석**
**질문 예시**: "효성 더 클래스를 통해 7월에 주문된 세단의 총 수는 얼마였습니까?"

**시스템 동작**:
1. 사용자 질문 입력
2. Gemini AI가 `AUTOMOTIVE_딜러별_세그먼트_판매_5` intent 매칭
3. `getDealershipSalesBySegment('효성더클래스', 7, 2025, 'Sedan')` API 호출
4. 효성더클래스의 7월 세단 판매 데이터 필터링
5. 결과 표시:
   - 🏢 효성더클래스 7월 2025년 Sedan 판매 현황
   - 총 Sedan 판매 대수: XX대
   - 총 판매 금액: XXX,XXX,XXX원
   - 상세 판매 내역

**지원 키워드**: "효성더클래스 세단", "딜러별 세그먼트", "세단 판매"

---

#### **3. 딜러별 배정 현황 분석**
**질문 예시**: "한성자동차에 8월에 배정될 SUV의 총 수량은 몇 대입니까?"

**시스템 동작**:
1. 사용자 질문 입력
2. Gemini AI가 `AUTOMOTIVE_딜러별_배정_현황_6` intent 매칭
3. `getAllocationByDealership('한성자동차', 8, 2025)` API 호출
4. 한성자동차 8월 SUV 배정 데이터 필터링
5. 결과 표시:
   - 🚗 한성자동차 8월 2025년 SUV 배정 현황
   - 총 SUV 배정 수량: XX대
   - 배정 상세 내역 테이블

**지원 키워드**: "한성자동차 SUV", "8월 배정", "SUV 배정 수량"

---

#### **4. 이메일 전송 기능**
**질문 예시**: "Bitte senden Sie die folgende E-Mail auf Koreanisch an den Hansung Motors-Vertreter. Wir laden koreanische Automobiljournalisten und VIPs zur Weltpremiere des neuen Autos am 11. nächsten Monats in der Unternehmenszentrale in Deutschland ein. Nutzen Sie den unten stehenden Link, um Ihren Bericht vorzubereiten."

**시스템 동작**:
1. 사용자 질문 입력
2. Gemini AI가 `AUTOMOTIVE_이메일_전송_7` intent 매칭
3. 이메일 전송 폼 표시:
   - 수신자 검색 필드 (한성자동차 담당자 자동 검색)
   - 이메일 내용 자동 생성
4. 사용자가 수신자 선택 및 내용 확인
5. `sendEmail()` API 호출
6. 전송 완료 메시지 표시

**지원 키워드**: "이메일 전송", "한성자동차 담당자", "초대 이메일", "보고서 작성"

---

#### **5. 기존 워크플로우 기능들**

**딜러 정보 조회**:
- 질문: "한성자동차 딜러 정보 보여줘"
- 키워드: "딜러 정보", "딜러사 정보", "한성자동차", "효성더클래스", "KCC오토"

**차량 모델 정보**:
- 질문: "E-Class 사양 보여줘"
- 키워드: "차량 모델", "E-Class", "C-Class", "GLC", "EQS", "S-Class"

**VIN 추적**:
- 질문: "VIN001HANSUNG 차량 정보 찾아줘"
- 키워드: "VIN", "차량 식별", "차량 이력", "VIN 추적"

**고객 대기 관리**:
- 질문: "EQS 대기 고객 목록 보여줘"
- 키워드: "고객 대기", "대기 명단", "구매 대기", "대기 순번"

---

### 🔧 **기술적 구현 세부사항**

#### **API 엔드포인트**
- `GET /api/sales_analysis` - 월별 판매 분석
- `GET /api/dealership_sales` - 딜러별 세그먼트 판매
- `GET /api/allocation_analysis` - 딜러별 배정 현황
- `POST /api/send_email` - 이메일 전송

#### **데이터 소스**
- `benz_CRM.json` - 판매, 배정, 고객 대기 데이터
- `dealer_info.json` - 딜러 정보 및 연락처
- `recipientData` - 수신자 정보

#### **AI 처리 과정**
1. **의도 분석**: Gemini AI가 사용자 질문을 분석하여 적절한 intent 매칭
2. **엔티티 추출**: 질문에서 딜러명, 날짜, 세그먼트 등 핵심 정보 추출
3. **API 호출**: 매칭된 intent에 따라 적절한 API 함수 호출
4. **결과 렌더링**: 분석 결과를 사용자 친화적인 UI로 표시

#### **UI 컴포넌트**
- **분석 결과 카드**: 주요 수치를 강조하여 표시
- **상세 내역 테이블**: 필터링된 데이터의 상세 정보
- **이메일 전송 폼**: 수신자 검색 및 내용 편집 기능
- **실시간 로그**: API 호출 상태 및 진행 상황 표시

이 프로젝트는 **글로벌 자동차 회사의 본사와 지역 딜러 간의 업무 자동화와 AI 기반 의사결정 지원**을 목표로 하는 종합적인 자동차 업계 관리 시스템입니다.